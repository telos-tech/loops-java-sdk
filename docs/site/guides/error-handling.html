<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Error Handling - Loops Java SDK</title>
    <meta name="description" content="Comprehensive guide to error handling in the Loops Java SDK">
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <a href="../index.html" class="navbar-brand">Loops Java SDK</a>
            <ul class="navbar-nav">
                <li><a href="../getting-started.html">Getting Started</a></li>
                <li><a href="contacts.html">Guides</a></li>
                <li><a href="../examples/index.html">Examples</a></li>
                <li><a href="../api/index.html">API Reference</a></li>
                <li><a href="https://github.com/telosnath/loops-java-sdk" target="_blank">GitHub</a></li>
            </ul>
        </div>
    </nav>

    <!-- Breadcrumb -->
    <div class="breadcrumb">
        <div class="container">
            <ul class="breadcrumb-nav">
                <li><a href="../index.html">Home</a></li>
                <li><a href="contacts.html">Guides</a></li>
                <li>Error Handling</li>
            </ul>
        </div>
    </div>

    <!-- Content -->
    <div class="content">
        <h1>Error Handling</h1>

        <p>This guide covers how to handle errors effectively when using the Loops Java SDK. Understanding the exception hierarchy and error handling patterns will help you build robust applications.</p>

        <h2>Table of Contents</h2>
        <ul>
            <li><a href="#exception-types">Exception Types</a></li>
            <li><a href="#validation-errors">Validation Errors</a></li>
            <li><a href="#api-errors">API Errors</a></li>
            <li><a href="#rate-limiting">Rate Limiting</a></li>
            <li><a href="#retry-logic">Retry Logic</a></li>
            <li><a href="#async-errors">Async Error Handling</a></li>
            <li><a href="#best-practices">Best Practices</a></li>
        </ul>

        <h2 id="exception-types">Exception Types</h2>

        <p>The Loops Java SDK uses three main exception types:</p>

        <h3>Exception Hierarchy</h3>

        <pre><code>RuntimeException
├── LoopsValidationException     <span class="comment">// Client-side validation errors</span>
└── LoopsApiException            <span class="comment">// Server-side API errors</span>
    └── RateLimitExceededException  <span class="comment">// Rate limiting (HTTP 429)</span></code></pre>

        <h3>LoopsValidationException</h3>

        <p>Thrown when request parameters fail client-side validation before sending to the API.</p>

        <pre><code><span class="keyword">import</span> com.telos.loops.error.LoopsValidationException;

<span class="comment">// Examples that throw LoopsValidationException:</span>

<span class="comment">// 1. Empty or null required fields</span>
<span class="keyword">new</span> TransactionalSendRequest(
    <span class="string">""</span>,                    <span class="comment">// Empty transactionalId</span>
    <span class="string">"user@example.com"</span>,
    <span class="keyword">null</span>, <span class="keyword">null</span>, <span class="keyword">null</span>
); <span class="comment">// Throws: "transactionalId is required and cannot be blank"</span>

<span class="comment">// 2. Invalid pagination parameters</span>
client.transactional().list(
    <span class="number">5</span>,   <span class="comment">// perPage must be 10-50</span>
    <span class="keyword">null</span>
); <span class="comment">// Throws: "perPage must be between 10 and 50, got: 5"</span>

<span class="comment">// 3. Idempotency key too long</span>
client.transactional().send(
    request,
    <span class="string">"x"</span>.repeat(<span class="number">101</span>)  <span class="comment">// Max 100 characters</span>
); <span class="comment">// Throws: "Idempotency key must not exceed 100 characters..."</span></code></pre>

        <h3>LoopsApiException</h3>

        <p>Thrown when the Loops API returns an error response (4xx or 5xx HTTP status codes).</p>

        <pre><code><span class="keyword">import</span> com.telos.loops.error.LoopsApiException;

<span class="keyword">try</span> {
    client.contacts().create(request);
} <span class="keyword">catch</span> (LoopsApiException e) {
    <span class="keyword">int</span> statusCode = e.statusCode();        <span class="comment">// HTTP status code (400, 404, 500, etc.)</span>
    <span class="keyword">String</span> message = e.getMessage();       <span class="comment">// Error message from API</span>
    <span class="keyword">String</span> rawBody = e.rawBody();          <span class="comment">// Raw response body</span>
    <span class="keyword">String</span> error = e.error();              <span class="comment">// Error type from API</span>

    System.err.println(<span class="string">"API error (HTTP "</span> + statusCode + <span class="string">"): "</span> + message);
}</code></pre>

        <h3>RateLimitExceededException</h3>

        <p>A specialized subclass of <code>LoopsApiException</code> thrown when the API rate limit is exceeded (HTTP 429).</p>

        <pre><code><span class="keyword">import</span> com.telos.loops.error.RateLimitExceededException;

<span class="keyword">try</span> {
    client.events().send(eventRequest);
} <span class="keyword">catch</span> (RateLimitExceededException e) {
    <span class="keyword">long</span> retryAfterSeconds = e.retryAfterSeconds();  <span class="comment">// Seconds to wait</span>

    System.err.println(<span class="string">"Rate limited! Retry after "</span> + retryAfterSeconds +
        <span class="string">" seconds"</span>);

    <span class="comment">// You can access other LoopsApiException methods too</span>
    <span class="keyword">int</span> statusCode = e.statusCode();  <span class="comment">// Will be 429</span>
    <span class="keyword">String</span> message = e.getMessage();
}</code></pre>

        <h2 id="validation-errors">Validation Errors</h2>

        <h3>Catching Validation Errors</h3>

        <pre><code><span class="keyword">import</span> com.telos.loops.error.LoopsValidationException;

<span class="keyword">try</span> {
    <span class="keyword">ContactResponse</span> response = client.contacts().create(
        ContactCreateRequest.builder()
            .email(<span class="string">"invalid-email"</span>)  <span class="comment">// Server will reject this</span>
            .build()
    );
} <span class="keyword">catch</span> (LoopsValidationException e) {
    <span class="comment">// Client-side validation failed before API call</span>
    System.err.println(<span class="string">"Request validation failed: "</span> + e.getMessage());

    <span class="comment">// Log and notify user</span>
    logValidationError(e);
    notifyUser(<span class="string">"Invalid request: "</span> + e.getMessage());
}</code></pre>

        <h3>Common Validation Errors</h3>

        <pre><code><span class="comment">// Missing required field</span>
<span class="keyword">try</span> {
    <span class="keyword">new</span> TransactionalSendRequest(
        <span class="keyword">null</span>,  <span class="comment">// transactionalId is required</span>
        <span class="string">"user@example.com"</span>,
        <span class="keyword">null</span>, <span class="keyword">null</span>, <span class="keyword">null</span>
    );
} <span class="keyword">catch</span> (LoopsValidationException e) {
    <span class="comment">// "transactionalId is required and cannot be blank"</span>
}

<span class="comment">// Invalid range</span>
<span class="keyword">try</span> {
    client.transactional().list(<span class="number">100</span>, <span class="keyword">null</span>);  <span class="comment">// Max is 50</span>
} <span class="keyword">catch</span> (LoopsValidationException e) {
    <span class="comment">// "perPage must be between 10 and 50, got: 100"</span>
}

<span class="comment">// String too long</span>
<span class="keyword">try</span> {
    client.transactional().send(request, <span class="string">"x"</span>.repeat(<span class="number">200</span>));
} <span class="keyword">catch</span> (LoopsValidationException e) {
    <span class="comment">// "Idempotency key must not exceed 100 characters..."</span>
}</code></pre>

        <h2 id="api-errors">API Errors</h2>

        <h3>Handling HTTP Status Codes</h3>

        <pre><code><span class="keyword">import</span> com.telos.loops.error.LoopsApiException;

<span class="keyword">try</span> {
    <span class="keyword">ContactResponse</span> response = client.contacts().create(request);
} <span class="keyword">catch</span> (LoopsApiException e) {
    <span class="keyword">switch</span> (e.statusCode()) {
        <span class="keyword">case</span> <span class="number">400</span>:
            System.err.println(<span class="string">"Bad request: "</span> + e.getMessage());
            <span class="comment">// Invalid parameters or malformed request</span>
            <span class="keyword">break</span>;

        <span class="keyword">case</span> <span class="number">401</span>:
            System.err.println(<span class="string">"Unauthorized: Invalid API key"</span>);
            <span class="comment">// Check your API key configuration</span>
            <span class="keyword">break</span>;

        <span class="keyword">case</span> <span class="number">404</span>:
            System.err.println(<span class="string">"Not found: "</span> + e.getMessage());
            <span class="comment">// Resource doesn't exist (contact, template, etc.)</span>
            <span class="keyword">break</span>;

        <span class="keyword">case</span> <span class="number">429</span>:
            System.err.println(<span class="string">"Rate limited"</span>);
            <span class="comment">// Should be caught as RateLimitExceededException</span>
            <span class="keyword">break</span>;

        <span class="keyword">case</span> <span class="number">500</span>:
        <span class="keyword">case</span> <span class="number">502</span>:
        <span class="keyword">case</span> <span class="number">503</span>:
            System.err.println(<span class="string">"Server error: "</span> + e.getMessage());
            <span class="comment">// Loops API is experiencing issues, retry later</span>
            <span class="keyword">break</span>;

        <span class="keyword">default</span>:
            System.err.println(<span class="string">"Unexpected error (HTTP "</span> +
                e.statusCode() + <span class="string">"): "</span> + e.getMessage());
    }
}</code></pre>

        <h3>Accessing Error Details</h3>

        <pre><code><span class="keyword">try</span> {
    client.transactional().send(transactionalRequest);
} <span class="keyword">catch</span> (LoopsApiException e) {
    <span class="comment">// Status code</span>
    <span class="keyword">int</span> status = e.statusCode();

    <span class="comment">// Parsed error message</span>
    <span class="keyword">String</span> message = e.getMessage();

    <span class="comment">// Error type from API (if available)</span>
    <span class="keyword">String</span> errorType = e.error();

    <span class="comment">// Raw JSON response body</span>
    <span class="keyword">String</span> rawResponse = e.rawBody();

    <span class="comment">// Log everything for debugging</span>
    logger.error(<span class="string">"Loops API error - Status: {}, Error: {}, Message: {}, Body: {}"</span>,
        status, errorType, message, rawResponse);
}</code></pre>

        <h2 id="rate-limiting">Rate Limiting</h2>

        <h3>Detecting Rate Limits</h3>

        <pre><code><span class="keyword">import</span> com.telos.loops.error.RateLimitExceededException;

<span class="keyword">try</span> {
    <span class="comment">// Sending many events quickly</span>
    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">1000</span>; i++) {
        client.events().send(createEventRequest(i));
    }
} <span class="keyword">catch</span> (RateLimitExceededException e) {
    <span class="keyword">long</span> waitSeconds = e.retryAfterSeconds();
    System.err.println(<span class="string">"Hit rate limit. Wait "</span> + waitSeconds + <span class="string">" seconds"</span>);
}</code></pre>

        <h3>Handling Rate Limits with Backoff</h3>

        <pre><code><span class="keyword">public void</span> sendEventWithBackoff(<span class="keyword">EventRequest</span> request) {
    <span class="keyword">int</span> maxRetries = <span class="number">3</span>;
    <span class="keyword">int</span> attempt = <span class="number">0</span>;

    <span class="keyword">while</span> (attempt &lt; maxRetries) {
        <span class="keyword">try</span> {
            <span class="keyword">EventResponse</span> response = client.events().send(request);
            <span class="keyword">if</span> (response.success()) {
                System.out.println(<span class="string">"Event sent successfully"</span>);
                <span class="keyword">return</span>;
            }
        } <span class="keyword">catch</span> (RateLimitExceededException e) {
            <span class="keyword">long</span> waitSeconds = e.retryAfterSeconds();
            System.out.println(<span class="string">"Attempt "</span> + (attempt + <span class="number">1</span>) +
                <span class="string">": Rate limited, waiting "</span> + waitSeconds + <span class="string">" seconds..."</span>);

            <span class="keyword">try</span> {
                Thread.sleep(waitSeconds * <span class="number">1000</span>);
            } <span class="keyword">catch</span> (InterruptedException ie) {
                Thread.currentThread().interrupt();
                <span class="keyword">throw new</span> RuntimeException(<span class="string">"Interrupted while waiting"</span>, ie);
            }

            attempt++;
        } <span class="keyword">catch</span> (LoopsApiException e) {
            <span class="comment">// Non-rate-limit error, don't retry</span>
            <span class="keyword">throw</span> e;
        }
    }

    <span class="keyword">throw new</span> RuntimeException(<span class="string">"Failed after "</span> + maxRetries + <span class="string">" retries"</span>);
}</code></pre>

        <h2 id="retry-logic">Retry Logic</h2>

        <h3>Simple Retry with Exponential Backoff</h3>

        <pre><code><span class="keyword">public</span> &lt;T&gt; T retryWithBackoff(Supplier&lt;T&gt; operation, <span class="keyword">int</span> maxRetries) {
    <span class="keyword">int</span> attempt = <span class="number">0</span>;
    <span class="keyword">long</span> waitMs = <span class="number">1000</span>;  <span class="comment">// Start with 1 second</span>

    <span class="keyword">while</span> (<span class="keyword">true</span>) {
        <span class="keyword">try</span> {
            <span class="keyword">return</span> operation.get();
        } <span class="keyword">catch</span> (RateLimitExceededException e) {
            <span class="comment">// Use the API-provided retry-after value</span>
            waitMs = e.retryAfterSeconds() * <span class="number">1000</span>;
            attempt++;
        } <span class="keyword">catch</span> (LoopsApiException e) {
            <span class="comment">// Retry on 5xx server errors</span>
            <span class="keyword">if</span> (e.statusCode() &gt;= <span class="number">500</span> && e.statusCode() &lt; <span class="number">600</span>) {
                attempt++;
            } <span class="keyword">else</span> {
                <span class="comment">// Don't retry 4xx client errors</span>
                <span class="keyword">throw</span> e;
            }
        }

        <span class="keyword">if</span> (attempt &gt;= maxRetries) {
            <span class="keyword">throw new</span> RuntimeException(<span class="string">"Max retries exceeded"</span>);
        }

        System.out.println(<span class="string">"Retry attempt "</span> + attempt +
            <span class="string">", waiting "</span> + waitMs + <span class="string">"ms"</span>);

        <span class="keyword">try</span> {
            Thread.sleep(waitMs);
        } <span class="keyword">catch</span> (InterruptedException ie) {
            Thread.currentThread().interrupt();
            <span class="keyword">throw new</span> RuntimeException(<span class="string">"Interrupted"</span>, ie);
        }

        <span class="comment">// Exponential backoff (only for server errors, not rate limits)</span>
        waitMs = Math.min(waitMs * <span class="number">2</span>, <span class="number">30000</span>);  <span class="comment">// Max 30 seconds</span>
    }
}

<span class="comment">// Usage</span>
<span class="keyword">ContactResponse</span> response = retryWithBackoff(
    () -&gt; client.contacts().create(request),
    <span class="number">3</span>
);</code></pre>

        <h3>Retry with Jitter</h3>

        <pre><code><span class="keyword">import</span> java.util.Random;

<span class="keyword">private</span> <span class="keyword">static final</span> Random RANDOM = <span class="keyword">new</span> Random();

<span class="keyword">public long</span> calculateBackoffWithJitter(<span class="keyword">int</span> attempt, <span class="keyword">long</span> baseMs) {
    <span class="comment">// Exponential backoff: baseMs * 2^attempt</span>
    <span class="keyword">long</span> exponentialBackoff = baseMs * (<span class="number">1L</span> &lt;&lt; attempt);

    <span class="comment">// Add jitter: random value between 0 and backoff</span>
    <span class="keyword">long</span> jitter = RANDOM.nextLong(exponentialBackoff);

    <span class="comment">// Cap at 60 seconds</span>
    <span class="keyword">return</span> Math.min(exponentialBackoff + jitter, <span class="number">60000</span>);
}</code></pre>

        <h2 id="async-errors">Async Error Handling</h2>

        <h3>Using exceptionally</h3>

        <pre><code><span class="keyword">import</span> java.util.concurrent.CompletableFuture;

client.contacts().createAsync(request)
    .exceptionally(error -&gt; {
        <span class="comment">// Handle any exception</span>
        <span class="keyword">Throwable</span> cause = error.getCause();

        <span class="keyword">if</span> (cause <span class="keyword">instanceof</span> RateLimitExceededException) {
            <span class="keyword">RateLimitExceededException</span> rle = (RateLimitExceededException) cause;
            System.err.println(<span class="string">"Rate limited: retry after "</span> +
                rle.retryAfterSeconds() + <span class="string">" seconds"</span>);
        } <span class="keyword">else if</span> (cause <span class="keyword">instanceof</span> LoopsApiException) {
            <span class="keyword">LoopsApiException</span> lae = (LoopsApiException) cause;
            System.err.println(<span class="string">"API error (HTTP "</span> + lae.statusCode() +
                <span class="string">"): "</span> + lae.getMessage());
        } <span class="keyword">else if</span> (cause <span class="keyword">instanceof</span> LoopsValidationException) {
            System.err.println(<span class="string">"Validation error: "</span> + cause.getMessage());
        } <span class="keyword">else</span> {
            System.err.println(<span class="string">"Unexpected error: "</span> + error.getMessage());
        }

        <span class="comment">// Return a default/fallback value</span>
        <span class="keyword">return</span> ContactResponse.builder()
            .success(<span class="keyword">false</span>)
            .message(<span class="string">"Failed: "</span> + error.getMessage())
            .build();
    })
    .thenAccept(response -&gt; {
        <span class="keyword">if</span> (response.success()) {
            System.out.println(<span class="string">"Success!"</span>);
        } <span class="keyword">else</span> {
            System.out.println(<span class="string">"Failed: "</span> + response.message());
        }
    });</code></pre>

        <h3>Using handle</h3>

        <pre><code>client.events().sendAsync(eventRequest)
    .handle((response, error) -&gt; {
        <span class="keyword">if</span> (error != <span class="keyword">null</span>) {
            <span class="comment">// Error occurred</span>
            <span class="keyword">Throwable</span> cause = error.getCause();
            logger.error(<span class="string">"Event send failed"</span>, cause);

            <span class="comment">// Return a failure response</span>
            <span class="keyword">return</span> EventResponse.builder()
                .success(<span class="keyword">false</span>)
                .build();
        }

        <span class="comment">// Success - return the actual response</span>
        <span class="keyword">return</span> response;
    })
    .thenAccept(response -&gt; {
        System.out.println(<span class="string">"Result: "</span> + response.success());
    });</code></pre>

        <h3>Async Retry Logic</h3>

        <pre><code><span class="keyword">import</span> java.util.concurrent.CompletableFuture;
<span class="keyword">import</span> java.util.concurrent.TimeUnit;

<span class="keyword">public CompletableFuture&lt;ContactResponse&gt;</span> createContactWithAsyncRetry(
    <span class="keyword">ContactCreateRequest</span> request,
    <span class="keyword">int</span> maxRetries,
    <span class="keyword">int</span> attempt
) {
    <span class="keyword">return</span> client.contacts().createAsync(request)
        .exceptionallyCompose(error -&gt; {
            <span class="keyword">Throwable</span> cause = error.getCause();

            <span class="comment">// Check if we should retry</span>
            <span class="keyword">if</span> (attempt &lt; maxRetries &&
                (cause <span class="keyword">instanceof</span> RateLimitExceededException ||
                 (cause <span class="keyword">instanceof</span> LoopsApiException &&
                  ((LoopsApiException) cause).statusCode() &gt;= <span class="number">500</span>))) {

                <span class="keyword">long</span> delaySeconds;
                <span class="keyword">if</span> (cause <span class="keyword">instanceof</span> RateLimitExceededException) {
                    delaySeconds = ((RateLimitExceededException) cause)
                        .retryAfterSeconds();
                } <span class="keyword">else</span> {
                    <span class="comment">// Exponential backoff for server errors</span>
                    delaySeconds = (<span class="keyword">long</span>) Math.pow(<span class="number">2</span>, attempt);
                }

                System.out.println(<span class="string">"Retry attempt "</span> + (attempt + <span class="number">1</span>) +
                    <span class="string">" after "</span> + delaySeconds + <span class="string">" seconds"</span>);

                <span class="comment">// Delay and retry</span>
                <span class="keyword">return</span> CompletableFuture
                    .delayedExecutor(delaySeconds, TimeUnit.SECONDS)
                    .execute(() -&gt; {})
                    .thenCompose(v -&gt; createContactWithAsyncRetry(
                        request,
                        maxRetries,
                        attempt + <span class="number">1</span>
                    ));
            }

            <span class="comment">// No retry - propagate the error</span>
            <span class="keyword">return</span> CompletableFuture.failedFuture(error);
        });
}

<span class="comment">// Usage</span>
createContactWithAsyncRetry(request, <span class="number">3</span>, <span class="number">0</span>)
    .thenAccept(response -&gt; {
        System.out.println(<span class="string">"Contact created: "</span> + response.id());
    })
    .exceptionally(error -&gt; {
        System.err.println(<span class="string">"Failed after retries: "</span> + error.getMessage());
        <span class="keyword">return null</span>;
    });</code></pre>

        <h2 id="best-practices">Best Practices</h2>

        <div class="alert alert-success">
            <h4>Catch Specific Exceptions First</h4>
            <p>Always catch more specific exceptions (<code>RateLimitExceededException</code>, <code>LoopsValidationException</code>) before general ones (<code>LoopsApiException</code>, <code>RuntimeException</code>).</p>
        </div>

        <div class="alert alert-info">
            <h4>Don't Retry 4xx Errors</h4>
            <p>Client errors (400, 401, 404, etc.) indicate a problem with your request that won't be fixed by retrying. Only retry rate limits (429) and server errors (5xx).</p>
        </div>

        <div class="alert alert-warning">
            <h4>Respect Rate Limit Headers</h4>
            <p>When rate limited, always use the <code>retryAfterSeconds()</code> value from <code>RateLimitExceededException</code> rather than arbitrary delays. This ensures you resume as soon as allowed.</p>
        </div>

        <div class="alert alert-success">
            <h4>Log Error Details</h4>
            <p>Always log the full error information including status code, error type, and raw body for debugging. The <code>rawBody()</code> method provides complete API response details.</p>
        </div>

        <div class="alert alert-info">
            <h4>Use Circuit Breakers</h4>
            <p>For production systems, consider implementing circuit breaker patterns to prevent cascading failures when the API is experiencing issues.</p>
        </div>

        <div class="alert alert-warning">
            <h4>Handle Validation Errors Early</h4>
            <p>Validate input data before making API calls when possible. This reduces API usage and provides faster feedback to users.</p>
        </div>

        <h2>Complete Error Handling Example</h2>

        <pre><code><span class="keyword">public class</span> RobustLoopsClient {
    <span class="keyword">private final</span> LoopsClient client;
    <span class="keyword">private final</span> Logger logger = LoggerFactory.getLogger(RobustLoopsClient.<span class="keyword">class</span>);

    <span class="keyword">public</span> ContactResponse createContactSafely(<span class="keyword">ContactCreateRequest</span> request) {
        <span class="keyword">try</span> {
            <span class="keyword">return</span> retryWithBackoff(
                () -&gt; client.contacts().create(request),
                <span class="number">3</span>
            );
        } <span class="keyword">catch</span> (LoopsValidationException e) {
            logger.error(<span class="string">"Validation error creating contact: {}"</span>, e.getMessage());
            <span class="keyword">throw new</span> IllegalArgumentException(
                <span class="string">"Invalid contact data: "</span> + e.getMessage(),
                e
            );
        } <span class="keyword">catch</span> (RateLimitExceededException e) {
            logger.error(<span class="string">"Rate limited after retries: {}"</span>, e.getMessage());
            <span class="keyword">throw new</span> RuntimeException(
                <span class="string">"Service temporarily unavailable. Retry after "</span> +
                e.retryAfterSeconds() + <span class="string">" seconds"</span>,
                e
            );
        } <span class="keyword">catch</span> (LoopsApiException e) {
            logger.error(<span class="string">"API error (HTTP {}): {}"</span>,
                e.statusCode(), e.getMessage());

            <span class="keyword">if</span> (e.statusCode() == <span class="number">401</span>) {
                <span class="keyword">throw new</span> RuntimeException(<span class="string">"Invalid API credentials"</span>, e);
            } <span class="keyword">else if</span> (e.statusCode() &gt;= <span class="number">500</span>) {
                <span class="keyword">throw new</span> RuntimeException(
                    <span class="string">"Loops service error. Please try again later"</span>,
                    e
                );
            } <span class="keyword">else</span> {
                <span class="keyword">throw new</span> RuntimeException(
                    <span class="string">"Failed to create contact: "</span> + e.getMessage(),
                    e
                );
            }
        }
    }

    <span class="keyword">private</span> &lt;T&gt; T retryWithBackoff(
        Supplier&lt;T&gt; operation,
        <span class="keyword">int</span> maxRetries
    ) {
        <span class="comment">// Implementation from earlier in this guide</span>
        <span class="comment">// ...</span>
    }
}</code></pre>

        <h2>Related Guides</h2>

        <ul>
            <li><a href="async.html">Asynchronous Operations</a> - Error handling in async code</li>
            <li><a href="contacts.html">Working with Contacts</a> - Contact-specific errors</li>
            <li><a href="transactional.html">Transactional Emails</a> - Email-specific errors</li>
        </ul>

        <h2>API Reference</h2>

        <p>For detailed exception class documentation, see:</p>
        <ul>
            <li><a href="../api/com/telos/loops/error/LoopsApiException.html">LoopsApiException JavaDoc</a></li>
            <li><a href="../api/com/telos/loops/error/LoopsValidationException.html">LoopsValidationException JavaDoc</a></li>
            <li><a href="../api/com/telos/loops/error/RateLimitExceededException.html">RateLimitExceededException JavaDoc</a></li>
        </ul>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div>
                    <p>&copy; 2026 Telos Development. Licensed under the <a href="https://opensource.org/licenses/MIT" target="_blank">MIT License</a>.</p>
                </div>
                <ul class="footer-links">
                    <li><a href="https://github.com/telosnath/loops-java-sdk" target="_blank">GitHub</a></li>
                    <li><a href="https://github.com/telosnath/loops-java-sdk/issues" target="_blank">Issues</a></li>
                    <li><a href="https://loops.so" target="_blank">Loops.so</a></li>
                </ul>
            </div>
        </div>
    </footer>
</body>
</html>
